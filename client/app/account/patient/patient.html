<div ng-include="'components/navbar/navbar.html'"></div>
<div class="container">
	<div class="row">
		<div class="col-sm-12">
			<h1>My Account</h1>
		</div>
		<div class="col-sm-12">
			<form class="form" name="form" ng-submit="commit(form)" novalidate>
				<div class="form-group" ng-class="{
						'has-success': form.address1.$valid && submitted,
						'has-error': form.address1.$invalid && submitted
					}">
					<label>Address 1</label>
					<input type="text" name="address1" class="form-control" ng-model="user.address1" required />
					<p class="help-block" ng-show="form.address1.$error.required && submitted">
						Address 1 is required.
					</p>
				</div>
				<div class="form-group">
					<label>Address 2</label>
					<input type="text" name="address2" class="form-control" ng-model="user.address2" />
				</div>
				<div class="form-group" ng-class="{
						'has-success': form.city.$valid && submitted,
						'has-error': form.city.$invalid && submitted
					}">
					<label>City</label>
					<input type="text" name="city" class="form-control" ng-model="user.city" required />
					<p class="help-block" ng-show="form.city.$error.required && submitted">
						City is required.
					</p>
				</div>
				<div class="form-group" ng-class="{
						'has-success': form.state.$valid && submitted,
						'has-error': form.state.$invalid && submitted
					}">
					<label>State</label>
					<select name="state" class="form-control" ng-model="user.state" required>
						<option value="{{ state }}" ng-repeat="state in states">{{ state }}</option>
					</select>
					<p class="help-block" ng-show="form.state.$error.required && submitted">
						State is required.
					</p>
				</div>
				<div class="form-group" ng-class="{
						'has-success': form.zipCode.$valid && submitted,
						'has-error': form.zipCode.$invalid && submitted
					}">
					<label>ZIP Code</label>
					<input type="number" name="zipCode" class="form-control" ng-model="user.zipCode" min="00000" max="99999" required />
					<p class="help-block" ng-show="form.zipCode.$error.number && submitted">
						Invalid ZIP code.
					</p>
					<p class="help-block" ng-show="form.zipCode.$error.required && submitted">
						ZIP code is required.
					</p>
				</div>
				<div class="form-group">
					<label>Prescriptions</label>
					<tags-input ng-model="user.prescriptions" display-property="name" placeholder="Add a prescription" replace-spaces-with-dashes="false" add-from-autocomplete-only="true">
						<auto-complete source="drugs($query)"></auto-complete>
					</tags-input>
				</div>
				<div class="form-group">
					<label>Medical Conditions</label>
					<tags-input ng-model="user.medicalConditions" display-property="name" placeholder="Add a medical condition" replace-spaces-with-dashes="false" add-from-autocomplete-only="true">
						<auto-complete source="medicalConditions($query)"></auto-complete>
					</tags-input>
				</div>
				<p class="help-block">{{ message }}</p>
				<button class="btn btn-lg btn-primary" type="submit">Continue</button>
			</form>
		</div>
	</div>
</div>
